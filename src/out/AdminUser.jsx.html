<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: AdminUser.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: AdminUser.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from "react";
import axios from "axios";
import SideBarAdmin from "./SideBarAdmin";
import { NavLink } from "react-router-dom";
import UsersCard from "./UsersCard";
import SearchOutlinedIcon from "@mui/icons-material/SearchOutlined";
import "./AdminUser.css";
import getAllUsers from "./UserCardInfo";
/**
 * @description this page contains all users in the system and a search bar that an admin 
 * can search for any user by his name and he can ban him, show some statistics, visit his profile and show his reports
 * @returns {div} div conatining search bar, all users 
 */
function AdminViewUser() {
  const [AllUsers, setAllUsers] = React.useState([]);
  React.useEffect(() => {
    (async () => {
      const resp = await getAllUsers();
      setAllUsers(resp);
    })();
  }, []);

  const [index, setIndex] = React.useState(-1);
  function HandleIndex(val) {
    setIndex(val);
  }
  function HandleBan() {
    for (let i = 0; i &lt; AllUsers.length; i++) {
      if (AllUsers[i].id == index) {
        // post request
        (async () => {
          await axios.delete("http://localhost:3001/AllUsers/" + index);
          const resp = await getAllUsers();
          setAllUsers(resp);
          console.log(AllUsers);
        })();
        setIndex(-1);
        break;
      }
    }
  }

  HandleBan();

  /**
   * @description function that maps users from database to users 
   * @param {object} contact id - name - username - bio - profile picture  
   * @returns {UsersCard} 
   */
  function createuserCard(contact) {
    return (
      &lt;UsersCard
        key={contact.id}
        id={contact.id}
        name={contact.name}
        username={contact.username}
        bio={contact.bio}
        img={contact.imgURL}
        handleIndexing={HandleIndex}
      />
    );
  }

  return (
    &lt;div className="AdminView">
      &lt;div className="SideBarAdmin">
        &lt;div className="SideBarAdminHeader">
          &lt;NavLink
            to="/adminView/dashboard"
            style={{ color: "rgb(29, 161, 242)" }}
          >
            &lt;h1 className="logo" style={{ textAlign: "center" }}>
              Sirius
            &lt;/h1>
            &lt;h6 style={{ textAlign: "center", paddingLeft: "8px" }}>
              Admin view
            &lt;/h6>
          &lt;/NavLink>
        &lt;/div>
        &lt;SideBarAdmin />
      &lt;/div>
      &lt;div className="AdminMain">
        &lt;div className="UserMain">
          &lt;div className="AdminUserSearch">
            &lt;SearchOutlinedIcon />
            &lt;input type="text" placeholder="search..." />
          &lt;/div>
          {AllUsers.map(createuserCard)}
        &lt;/div>
      &lt;/div>
    &lt;/div>
  );
}
export default AdminViewUser;
//pass a component as a prop
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AdminReports">AdminReports</a></li><li><a href="global.html#AdminViewUser">AdminViewUser</a></li><li><a href="global.html#AdminWidgets">AdminWidgets</a></li><li><a href="global.html#ReportCard">ReportCard</a></li><li><a href="global.html#Reporter">Reporter</a></li><li><a href="global.html#UsersCard">UsersCard</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Mon Apr 25 2022 21:58:33 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
